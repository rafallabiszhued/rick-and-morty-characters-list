"use strict";(self.webpackChunkrick_and_morty_characters_list=self.webpackChunkrick_and_morty_characters_list||[]).push([[54],{4054:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var r,o=n(8152),a=n(2791),s=n(184),i=function(e){var t=e.children;return(0,s.jsx)("div",{className:"bg-green-100 rounded-lg py-5 px-6 mb-4 text-base text-green-700 mb-3 text-center text-2xl",role:"alert",children:t})},l=function(e){var t=e.isError,n=e.error;return(0,s.jsx)(s.Fragment,{children:t&&(0,s.jsxs)("div",{className:"bg-red-100 rounded-lg py-5 px-6 mb-3 text-base text-red-700 inline-flex items-center w-full text-center text-2xl",role:"alert",children:[(0,s.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"times-circle",className:"w-4 h-4 mr-2 fill-current",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,s.jsx)("path",{fill:"currentColor",d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"})}),(null===n||void 0===n?void 0:n.message)||"An unexpected error occurred! Try later again!"]})})},c=n(7174),u=function(e){var t=e.character;return(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsxs)("div",{className:"rounded-lg shadow-lg bg-white max-w-sm",children:[(0,s.jsx)("img",{className:"rounded-t-lg",src:t.image,alt:t.name}),(0,s.jsx)("div",{className:"p-6",children:(0,s.jsx)("h5",{className:"text-gray-900 text-xl font-bold mb-2",children:t.name})})]})})},h=(0,a.memo)(u),d=n(5751),p=n(1238),f=function(e){var t=e.option,n=e.label,r=e.value,o=e.handleChangeRadioButton,a="".concat(n,"-").concat(t);return(0,s.jsxs)("div",{className:"form-check form-check-inline flex items-center",children:[(0,s.jsx)("input",{className:"form-check-input form-check-input appearance-none rounded-full h-4 w-4 border border-gray-300 bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer",type:"radio",name:n,id:a,value:t,onChange:o,checked:t===r}),(0,s.jsx)("label",{className:"form-check-label inline-block text-gray-800",htmlFor:a,children:function(e){if(e){var t=e.toLowerCase();return(0,p.fm)(t)}}(n)})]})},m=n(3112),v=n(3441);!function(e){e.ANY="",e.ALIVE="alive",e.DEAD="dead",e.UNKNOWN="unknown"}(r||(r={}));var g=d.ZP.div.withConfig({displayName:"CharacterStatusFilters__CharacterStatusFilterContainer",componentId:"sc-18v9d7n-0"})(["display:flex;max-width:1150px;margin:0 auto;padding:1rem 2rem;"]),x=function(e){var t=(0,v.Z)().dispatchCharacterStatus,n=(0,m.Oz)().stateContext,o=(0,a.useMemo)((function(){return n.characterStatus}),[n.characterStatus]),i=function(e){var n=e.target.value;t(n)};return(0,s.jsxs)(g,{children:[(0,s.jsx)("span",{className:"mr-2",children:"Character status: "}),(0,s.jsx)(f,{label:(0,p.Ju)(r,r.ANY),option:r.ANY,handleChangeRadioButton:i,value:o}),(0,s.jsx)(f,{label:(0,p.Ju)(r,r.ALIVE),option:r.ALIVE,handleChangeRadioButton:i,value:o}),(0,s.jsx)(f,{label:(0,p.Ju)(r,r.DEAD),option:r.DEAD,handleChangeRadioButton:i,value:o}),(0,s.jsx)(f,{label:(0,p.Ju)(r,r.UNKNOWN),option:r.UNKNOWN,handleChangeRadioButton:i,value:o})]})},w=function(e){var t;return null===e||void 0===e||null===(t=e.info)||void 0===t?void 0:t.count},b=n(5861),y=n(7757),S=n.n(y),T=n(6682),E=function(){var e=(0,b.Z)(S().mark((function e(t,n,r){var o,a;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.dJ.get(T.BM.CHARACTER,{params:{page:(s=t,String(s)),name:n,status:r}});case 2:return o=e.sent,a=o.data,e.abrupt("return",a);case 5:case"end":return e.stop()}var s}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),j={getCharactersList:E},C=n(9029),N=function(e,t){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},N(e,t)};var L=function(){return L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},L.apply(this,arguments)};var _="Pixel",M="Percent",k={unit:M,value:.8};function D(e){return"number"===typeof e?{unit:M,value:100*e}:"string"===typeof e?e.match(/^(\d*(\.\d+)?)px$/)?{unit:_,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:M,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),k):(console.warn("scrollThreshold should be string or number"),k)}var Y=function(e){function t(t){var n=e.call(this,t)||this;return n.lastScrollTop=0,n.actionTriggered=!1,n.startY=0,n.currentY=0,n.dragging=!1,n.maxPullDownDistance=0,n.getScrollableTarget=function(){return n.props.scrollableTarget instanceof HTMLElement?n.props.scrollableTarget:"string"===typeof n.props.scrollableTarget?document.getElementById(n.props.scrollableTarget):(null===n.props.scrollableTarget&&console.warn("You are trying to pass scrollableTarget but it is null. This might\n        happen because the element may not have been added to DOM yet.\n        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.\n      "),null)},n.onStart=function(e){n.lastScrollTop||(n.dragging=!0,e instanceof MouseEvent?n.startY=e.pageY:e instanceof TouchEvent&&(n.startY=e.touches[0].pageY),n.currentY=n.startY,n._infScroll&&(n._infScroll.style.willChange="transform",n._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},n.onMove=function(e){n.dragging&&(e instanceof MouseEvent?n.currentY=e.pageY:e instanceof TouchEvent&&(n.currentY=e.touches[0].pageY),n.currentY<n.startY||(n.currentY-n.startY>=Number(n.props.pullDownToRefreshThreshold)&&n.setState({pullToRefreshThresholdBreached:!0}),n.currentY-n.startY>1.5*n.maxPullDownDistance||n._infScroll&&(n._infScroll.style.overflow="visible",n._infScroll.style.transform="translate3d(0px, "+(n.currentY-n.startY)+"px, 0px)")))},n.onEnd=function(){n.startY=0,n.currentY=0,n.dragging=!1,n.state.pullToRefreshThresholdBreached&&(n.props.refreshFunction&&n.props.refreshFunction(),n.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame((function(){n._infScroll&&(n._infScroll.style.overflow="auto",n._infScroll.style.transform="none",n._infScroll.style.willChange="unset")}))},n.onScrollListener=function(e){"function"===typeof n.props.onScroll&&setTimeout((function(){return n.props.onScroll&&n.props.onScroll(e)}),0);var t=n.props.height||n._scrollableNode?e.target:document.documentElement.scrollTop?document.documentElement:document.body;n.actionTriggered||((n.props.inverse?n.isElementAtTop(t,n.props.scrollThreshold):n.isElementAtBottom(t,n.props.scrollThreshold))&&n.props.hasMore&&(n.actionTriggered=!0,n.setState({showLoader:!0}),n.props.next&&n.props.next()),n.lastScrollTop=t.scrollTop)},n.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:t.dataLength},n.throttledOnScrollListener=function(e,t,n,r){var o,a=!1,s=0;function i(){o&&clearTimeout(o)}function l(){var l=this,c=Date.now()-s,u=arguments;function h(){s=Date.now(),n.apply(l,u)}function d(){o=void 0}a||(r&&!o&&h(),i(),void 0===r&&c>e?h():!0!==t&&(o=setTimeout(r?d:h,void 0===r?e-c:e)))}return"boolean"!==typeof t&&(r=n,n=t,t=void 0),l.cancel=function(){i(),a=!0},l}(150,n.onScrollListener).bind(n),n.onStart=n.onStart.bind(n),n.onMove=n.onMove.bind(n),n.onEnd=n.onEnd.bind(n),n}return function(e,t){function n(){this.constructor=e}N(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){if("undefined"===typeof this.props.dataLength)throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),"number"===typeof this.props.initialScrollY&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),"function"!==typeof this.props.refreshFunction))throw new Error('Mandatory prop "refreshFunction" missing.\n          Pull Down To Refresh functionality will not work\n          as expected. Check README.md for usage\'')},t.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},t.prototype.componentDidUpdate=function(e){this.props.dataLength!==e.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},t.getDerivedStateFromProps=function(e,t){return e.dataLength!==t.prevDataLength?L(L({},t),{prevDataLength:e.dataLength}):null},t.prototype.isElementAtTop=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,r=D(t);return r.unit===_?e.scrollTop<=r.value+n-e.scrollHeight+1:e.scrollTop<=r.value/100+n-e.scrollHeight+1},t.prototype.isElementAtBottom=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,r=D(t);return r.unit===_?e.scrollTop+n>=e.scrollHeight-r.value:e.scrollTop+n>=r.value/100*e.scrollHeight},t.prototype.render=function(){var e=this,t=L({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),n=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),r=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return a.createElement("div",{style:r,className:"infinite-scroll-component__outerdiv"},a.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(t){return e._infScroll=t},style:t},this.props.pullDownToRefresh&&a.createElement("div",{style:{position:"relative"},ref:function(t){return e._pullDown=t}},a.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!n&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},t}(a.Component),A=Y,R=n(1933),Z=function(){var e=(0,a.useState)(1),t=(0,o.Z)(e,2),n=t[0],r=t[1],u=(0,a.useState)(!0),d=(0,o.Z)(u,2),p=d[0],f=d[1],v=(0,a.useState)([]),g=(0,o.Z)(v,2),b=g[0],y=g[1],S=(0,m.Oz)().stateContext,T=(0,a.useMemo)((function(){return S.search}),[S.search]),E=(0,a.useMemo)((function(){return S.characterStatus}),[S.characterStatus]),N=(0,R.useQuery)(["characters",n,T,E],(function(){return j.getCharactersList(n,T,E)}),{onSuccess:function(e){D(e)},onError:function(){Y()}}),L=N.data,_=N.isError,M=N.error,k=(0,a.useCallback)((function(e,t){if(e){var n=w(e);if((null===t||void 0===t?void 0:t.length)>=n)return void f(!1)}}),[]),D=(0,a.useCallback)((function(e){var t=e.results;if(k(e,t),1===n)return y(t);y((function(e){return null===e||void 0===e?void 0:e.concat(t)}))}),[k,n]),Y=(0,a.useCallback)((function(){y([]),r(1),f(!0)}),[]),Z=(0,a.useCallback)((function(){if(L){k(L,b);var e=w(L);(null===b||void 0===b?void 0:b.length)<e&&r((function(e){return e+1}))}}),[L,b,k]);return(0,a.useEffect)((function(){Y()}),[Y,T,E]),(0,s.jsxs)(C.Z,{children:[(0,s.jsx)(x,{}),(0,s.jsx)(l,{error:M,isError:_}),(0,s.jsx)(A,{dataLength:b.length,next:Z,hasMore:p,loader:(0,s.jsx)(c.Z,{isLoading:!_}),endMessage:(0,s.jsx)(i,{children:"All items loaded!"}),children:(0,s.jsx)("div",{className:"justify-center flex",children:(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-20 p-5",children:null===b||void 0===b?void 0:b.map((function(e,t){return(0,s.jsx)(h,{character:e},t)}))})})})]})}},3441:function(e,t,n){var r=n(8683),o=n(3112);t.Z=function(){var e=(0,o.Oz)().stateContext,t=(0,o.Jh)();return{dispatchSearch:function(n){t({type:o.MF.STATE,payload:(0,r.Z)((0,r.Z)({},e),{},{search:n})})},dispatchCharacterStatus:function(n){t({type:o.MF.STATE,payload:(0,r.Z)((0,r.Z)({},e),{},{characterStatus:n})})}}}},9029:function(e,t,n){n.d(t,{Z:function(){return j}});var r=n(5751),o=n(8152),a=n(5861),s=n(7757),i=n.n(s),l=n(2791),c=n(3112),u=n(3441),h=n(3628),d=n(1238),p=n(184),f=function(e){var t=(0,c.Oz)().stateContext,n=(0,u.Z)().dispatchSearch,r=function(){var e=(0,a.Z)(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.target.value,!!r||(0,d.pU)(),n(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,p.jsx)("div",{className:"input-group relative flex flex-wrap items-stretch w-full",children:(0,p.jsxs)("div",{className:"border rounded overflow-hidden flex",children:[(0,p.jsx)(h.DebounceInput,{value:t.search,type:"search",className:"px-4 py-2",placeholder:"Search...",onChange:r,debounceTimeout:500}),(0,p.jsx)("button",{className:"flex items-center justify-center px-4 border-l",children:(0,p.jsx)("svg",{className:"h-4 w-4 text-grey-dark",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)("path",{d:"M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z"})})})]})})},m=function(e){var t=e.toggleShow;return(0,p.jsx)("button",{className:" navbar-toggler text-gray-500 border-0 hover:shadow-none hover:no-underline py-2 px-2.5 bg-transparent focus:outline-none focus:ring-0 focus:shadow-none focus:no-underline\n",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",onClick:t,children:(0,p.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"bars",className:"w-6",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:(0,p.jsx)("path",{fill:"currentColor",d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})})})};var v=function(e,t){(0,l.useEffect)((function(){var n=function(n){var r=null===e||void 0===e?void 0:e.current;r&&!r.contains((null===n||void 0===n?void 0:n.target)||null)&&t(n)};return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}),[e,t])},g=n(3504),x=n(9851),w=r.ZP.div.withConfig({displayName:"Navigation__Menu",componentId:"sc-1v7a564-0"})(["display:",";"],(function(e){return e.isShow?"visible":"none"})),b=r.ZP.ul.withConfig({displayName:"Navigation__MenuList",componentId:"sc-1v7a564-1"})(["max-width:1150px;"]),y=function(e){var t=(0,l.useState)(!1),n=(0,o.Z)(t,2),r=n[0],a=n[1],s=(0,l.useRef)(null);return v(s,(function(){return a(!1)})),(0,p.jsx)("nav",{className:" fixed w-full flex flex-wrap items-center justify-between py-4 bg-white text-gray-500 hover:text-gray-700 focus:text-gray-700 navbar navbar-expand-lg navbar-light z-10 ",ref:s,children:(0,p.jsxs)("div",{className:"container-fluid w-full flex flex-wrap items-center justify-between px-6",children:[(0,p.jsx)(m,{toggleShow:function(){return a((function(e){return!e}))}}),(0,p.jsx)(w,{className:"collapse navbar-collapse flex-grow items-center",id:"navbarSupportedContent",isShow:r,children:(0,p.jsxs)(b,{className:"navbar-nav flex flex-col pl-0 list-style-none mr-auto w-full justify-between items-center",children:[(0,p.jsx)("li",{className:"nav-item pr-2",children:(0,p.jsx)(g.rU,{to:x.Z.home,className:"nav-link active","aria-current":"page",children:"Home"})}),(0,p.jsx)("li",{className:"nav-item px-2",children:(0,p.jsx)(f,{})})]})})]})})},S=r.ZP.header.withConfig({displayName:"MainLayout__Header",componentId:"sc-kpgdg7-0"})(["height:56px;max-width:1150px;margin:0 auto;nav{max-width:1150px;}"]),T=r.ZP.main.withConfig({displayName:"MainLayout__Container",componentId:"sc-kpgdg7-1"})(["min-height:calc(100vh - 56px);background-color:#eff0f5;"]),E=r.ZP.div.withConfig({displayName:"MainLayout__HeaderFixed",componentId:"sc-kpgdg7-2"})(["position:fixed;width:100%;height:56px;background-color:#fff;"]),j=function(e){var t=e.children;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(E,{}),(0,p.jsx)(S,{children:(0,p.jsx)(y,{})}),(0,p.jsx)(T,{className:"",children:t})]})}},1238:function(e,t,n){n.d(t,{Ju:function(){return a},fm:function(){return s},pU:function(){return o}});var r=n(8152),o=function(){return window.scrollTo(0,0)};function a(e,t){var n;return null===(n=Object.entries(e).find((function(e){var n=(0,r.Z)(e,2);n[0];return n[1]===t})))||void 0===n?void 0:n[0]}var s=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}}}]);
//# sourceMappingURL=54.0516b8f5.chunk.js.map